---
title: 503錯誤情況
date: 2022-01-24 15:25
modified: 2022-01-24 15:25
tags: 503
category: 網路概論
slug: http-error-503
summary: 預覽標題
image: /images/default_preview_image.jpg
status: draft, hidden, published
---

[TOC]


HTTP錯誤503發生的原因有多種，但通常意味著伺服器無法在需要時發送請求的資源。

**如果是網頁出現，主要原因有：**

![](http://i1.kknews.cc/qRxoFwC75aX2_qHyq-IHCZ1KL0s_ceHP4A/0.jpg)

1、網絡管理員可能關閉應用程式池以執行維護。

2、當請求到達時應用程式池隊列已滿。

3、應用程式池標識沒有使用預定義帳戶：網絡服務，而自己配置了標識，但是配置的這個用戶不屬於IIS_WPG組。

4、應用程式池啟用了CPU監視，並且設置了CPU利用率超過一定百分比關閉應用程式池，而開發人員寫的服務端頁面（.asp,.aspx）執行效率不高，會引起CPU的長時間占用，最終達到設置的百分比，從而引起應用程式池關閉。

5、應用程式池的性能選項卡的請求隊列限制所填的數值太小，默認為1000。

6、web.config的system.web/httpRuntime節點的appRequestQueueLimit屬性設置的值太低。



**如果是主機站點，主要原因有兩點：**

![](http://i2.kknews.cc/8r4ke_QIVyngnf_rf4eYyUNpSpr1bBtPQQ/0.jpg)

**1、該站點正在被攻擊。**對於最新型的攻擊，其實是ddos的一種派生，原理在於找數千個IP，同時向伺服器的apache發出請求，然後立即斷開，讓apache處於等待狀態，致使apache線程全部被填滿，致使伺服器死機。

**2、該程序占用的php線程過多，有的程序沒有進行好優化處理，一個點擊即可產生數個，甚至數十個php線程。**這樣的話，幾個點擊就可以把該時段的64個php線程全部填滿了。因此出現503錯誤。



參考解決方式：

首先，檢查內部部署 IIS 伺服器。 您可以使用 RDP 連接至 web 角色實例，並在本機流覽應用程式。 在本機流覽網站之前，請檢查 Application 和 System 事件檢視器記錄檔，以消除 IIS ApplicationPool 損毀或任何其他應用程式相關例外狀況的任何可能性。

接下來，檢查所出現的 IIS 記錄檔， `C:\Resources\directory\{Deployment ID}.SuperConvertor.DiagnosticStore\LogFiles\Web` 檢查您是否可以取得有關 HTTP 503 錯誤的詳細資訊，如子狀態碼、執行要求所需的時間等等。

如果沒有產生任何記錄，這表示要求根本不會到達 IIS。 根據 IIS 架構，HTTP.sys 會偵聽來自網路的 HTTP 要求、將要求傳遞至 IIS 進行處理，然後將處理的回應傳回至用戶端瀏覽器。 根據預設，IIS 會將 HTTP.sys 視為偵聽 HTTP 和 HTTPS 要求的通訊協定攔截器，以及在此目錄中記錄 HTTP.sys 層級的任何錯誤 `D:\Windows\System32\LogFiles\HTTPERR` 。 接下來，讓我們看看可以在 HTTPErr 記錄中找到的專案：

```c
#Software: Microsoft HTTP API 2.0
#Version: 1.0
#Date: 2018-08-13 03:12:38
#Fields: date time c-ip c-port s-ip s-port cs-version cs-method cs-uri streamid sc-status s-siteid s-reason s-queuename
2018-08-13 03:25:22 293.217.138.127 12052 10.1.2.5 80 HTTP/1.1 GET / - 503 - N/A -
2018-08-13 03:25:22 293.217.138.127 20463 10.1.2.5 80 HTTP/1.1 GET /favicon.ico - 503 - N/A -
```

參考資料：

[什麼是HTTP 503錯誤？教你多種妙招修復它](https://kknews.cc/news/z8xaa8a.html)


[疑難排解步驟](https://docs.microsoft.com/zh-tw/troubleshoot/azure/cloud-services/dev-http-error-503-cannot-access-website)