---
title: 樹莓派安裝實錄
date: 2022-12-03 11:32
modified: 2022-12-03 11:32
tags: raspbarrypi
category: 後網路概論
slug: raspbarrypi
summary: 安裝樹莓派的記錄語法
image: /images/default_preview_image.jpg
status: draft
---

[TOC]

## 安裝項目：samba

```c
sudo apt install samba
```

使用以下指令來查看Samba是否有確實安裝成功
```c
sudo netstat -tulnp | grep -e '[sn]mbd'
```

**建立使用者**

1、建立linux使用者：
```c
sudo adduser jarvis
```
2、使用者許可權：
```c
chmod 777 /home/jarvis
```

3、samba服務新增使用者
```c
sudo smbpasswd  -a jarvis
```

4、配置smb.conf
`sudo vim /etc/samba/smb.conf`


```c

[jarvis] 
path = /home/jarvis    
browseable = yes    
writeable = yes    
guest ok = yes    
valid users=admin,jarvis　

```
說明：

[jarvis]：欲分享的目錄名稱，也就是未來使用者要連線時，連線的人會看到的目錄名稱。
path=/home/jarvis：上述的jarvis這個分享目錄，位在主機中實體的路徑為/home/jarvis
browseable= yes：可以讀取目錄下的資料
read only = no：非read only (可以寫檔、修改檔案)
writable= yes：可以讀寫，修改分享目錄中的檔案
valid users = adam, alex, jarvis  ：允許adam, alex, jarvis這三個使用者存取此目錄，您可以在此增加其他使用者進來。

---

## 安裝項目：Docker

先更新儲存庫

```c
sudo apt update
```

允許您的 Ubuntu 20.04 系統通過 HTTPS 訪問 Docker 存儲庫：

```c
sudo apt-get install apt-transport-https ca-certificates curl software-properties-common
```

添加GPG密鑰以確保軟件包的真實性：

```c
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```


以下命令安裝 Docker 存儲庫：

```c
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu  $(lsb_release -cs)  stable"
```

安裝最新的 Docker 版本：

```c
sudo apt-get install docker-ce
```

要啟動 Docker 服務，請運行以下命令：

```c
sudo systemctl start docker
```

啟用 Docker 在啟動時運行：

```c
sudo systemctl enable docker
```

要檢查服務的狀態，請使用以下命令：

```c
sudo systemctl status docker
```


## 安裝項目：SSH

Mac電腦要SSH連線到Ubuntu電腦，是Mac電腦要用ssh-keygen 來產生金鑰，副檔名是pub的是公鑰是要放在Ubntu主機上。

Mac電腦：Client端
Ubuntu電腦：Server端

產生金鑰

```c
ssh-keygen -t rsa -b 4096 -C "jarvis@gmail.com"
```
會顯示已產生一對私鑰、公鑰，然後要設定密碼
```c
Generating public/private rsa key pair. 
Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]
```
公鑰放在Server端，再使用 ssh username@IPaddress 方式連線

將金鑰加到 ssh-agent
加入到 ssh-agent 的用意是以後使用這個金鑰就不需要再輸入剛剛上一步設定的密碼。如果跳過這個步驟，之後要使用金鑰時就需要輸入自訂的密碼。

開啓ssh-agent
```c
eval "$(ssh-agent -s)"
```

加入

```c
ssh-add ~/.ssh/id_rsa
```

接下來將剛剛產生的公鑰內容貼到到Github，如下路徑是新增Github公鑰的地方

https://github.com/settings/ssh/new

檢查狀態
```c
sudo service ssh status 
```

關閉
```c
sudo service ssh stop
```

重啓
```c
sudo service ssh restart
```


---

# 改安裝成Home assistant

Home Assistant Nginx Proxy Manager




---
參考資料：


[使用Ubuntu Server架設Samba，與Windows做「網路上的芳鄰」吧！](https://magiclen.org/ubuntu-server-samba "使用Ubuntu Server架設Samba，與Windows做「網路上的芳鄰」吧！")

[ubuntu 新增samba使用者](https://www.796t.com/content/1545342303.html)

[如何在 Ubuntu 20.04 上安裝和使用 Docker](https://www.gundam.com.tw/2021/11/04/%E5%A6%82%E4%BD%95%E5%9C%A8-ubuntu-20-04-%E4%B8%8A%E5%AE%89%E8%A3%9D%E5%92%8C%E4%BD%BF%E7%94%A8-docker/)

[設定 Github SSH 金鑰 feat. Github SSH、HTTPS 的差異](https://ithelp.ithome.com.tw/articles/10205988)

home assistant功能參考

[Home Assistant Nginx Proxy Manager](https://ithelp.ithome.com.tw/articles/10309644)

[[教學] 透過 DuckDNS 與 NGINX Reverse Proxy 做 TLS/SSL 加密連線](https://forum.automata.id/t/topic/104)